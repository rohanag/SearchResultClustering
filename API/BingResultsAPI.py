import urllib2import base64import json__author__ =  'Rohan Agrawal'class BingResultsAPI():    """    Class for interacting with Bing web search API    """    def getResults(self, N, searchstring, key, filename):        """        Takes input, N - number of documents, key for bing web search,         filename to store results in case they are needed again.        Returns a dictionary "result" returned by Bing Web search API.        """        query=urllib2.quote(searchstring)          bingUrl = 'https://api.datamarket.azure.com/Data.ashx/Bing/SearchWeb/v1/Web?Query=%27'+query+'%27&$top='+str(N)+'&$format=json'        accountKey = str(key)        accountKeyEnc = base64.b64encode(accountKey + ':' + accountKey)        headers = {'Authorization': 'Basic ' + accountKeyEnc}        req = urllib2.Request(bingUrl, headers = headers)        response = urllib2.urlopen(req)        content = response.read()        result=json.loads(content)  #The extracted content is in JSON format.It needs to be converted into a nested dictionary type                fp = open('TempFiles/'+filename, 'wb')        json.dump(result, fp)        fp.close()                return result